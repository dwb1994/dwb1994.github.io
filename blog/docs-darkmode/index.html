<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.22ad56a28a1bc96b3d94.css" id="gatsby-global-css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-50d279861fb3cbfed809eae6ed8b9ac9.woff2) format("woff2"),url(/static/montserrat-latin-100-5e334eff013f12fbb8ed72c2a253f119.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-8c0705336558194799a8729840d7ed9d.woff2) format("woff2"),url(/static/montserrat-latin-100italic-03e19243272affe738654a157625ec26.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-4343d3d91a9446226e7a8bbb024111ad.woff2) format("woff2"),url(/static/montserrat-latin-200-f2022ecd65a0703ec3edcb7641709a75.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-116c4c4b14ef76b0555da09854512022.woff2) format("woff2"),url(/static/montserrat-latin-200italic-89614a6008fc5c60739012463d0ee7e6.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-d2ad295b60682a6537c358e06ea80c61.woff2) format("woff2"),url(/static/montserrat-latin-300-3a371ee0d175f5c2b15ce1d6b981dc4e.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-f6b6bf2431003f8142e800f9df157989.woff2) format("woff2"),url(/static/montserrat-latin-300italic-16521668f5f238098329cdd7d27c391e.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-240a84447b78da0920fcb07e378f2c5f.woff2) format("woff2"),url(/static/montserrat-latin-400-b20cc131034316b1c85d0498fb9ed5c5.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-86172bb829de6be08b92512096b6aca6.woff2) format("woff2"),url(/static/montserrat-latin-400italic-9405e78785a55cf0e4ea7669d4616ea9.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-fb8d6b71dbe8d9294be43082936f649e.woff2) format("woff2"),url(/static/montserrat-latin-500-50825d47af7ae47e055018eb689c6c99.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c0a555a4f8e997385a3eebbd4da0b9ee.woff2) format("woff2"),url(/static/montserrat-latin-500italic-635de59c4be86285b1f70068c95b9816.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-d5615136a08cfee70deb4be1ee1651df.woff2) format("woff2"),url(/static/montserrat-latin-600-f300da4fb4fe00e23915f62b2c643681.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-10f29d139edacde92df63374c5672568.woff2) format("woff2"),url(/static/montserrat-latin-600italic-2bc37d86a4ba12ce526c4af904a9946e.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7d77e1f03eefc452dab14d7f89080083.woff2) format("woff2"),url(/static/montserrat-latin-700-81826529772e52f0f14a4c73c2f2c7f1.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-1dd2b53f1567a29e0505de9b27c4352c.woff2) format("woff2"),url(/static/montserrat-latin-700italic-c162d257f5e9f9b108a96a604cfb2132.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-d4e7bf86bbd8e5f43ca73fa831218648.woff2) format("woff2"),url(/static/montserrat-latin-800-895aadbff357be35ac8dd107c7975ee7.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-fc0cbe442f7b3733c91e982e825c4daa.woff2) format("woff2"),url(/static/montserrat-latin-800italic-b3362875067300abedb7a8fb97903258.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-c8bdd772c0d1347720ff7e3fb72719f3.woff2) format("woff2"),url(/static/montserrat-latin-900-1b99ef78e627dd9bbd0ca4b5c0789547.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-cb72c1f90f66c124fb897a75bec64c78.woff2) format("woff2"),url(/static/montserrat-latin-900italic-b78bb9f8ecec6c5a924c873f1818095f.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-f015f1e9a46a3b9db4fd64564dacece4.woff2) format("woff2"),url(/static/merriweather-latin-300-92dfe81b725c342d31d962da975c07a6.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-7fd86b32accf2df4403d1d4fa3a81502.woff2) format("woff2"),url(/static/merriweather-latin-300italic-878b76f59d5ba58dd1652dc8d2a0f4f9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-12dbf4c00ae43698f278b099e4b0ec9e.woff2) format("woff2"),url(/static/merriweather-latin-400-1fffad22b085a877995812dbf1d9ac08.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-1e0d3e8121d88969bfb153c8f174b758.woff2) format("woff2"),url(/static/merriweather-latin-400italic-de18d4c4e8e808a7248a185f866ff094.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-dc8fec81a125fc63856587e6683da73b.woff2) format("woff2"),url(/static/merriweather-latin-700-d7d2ed8e58f303392cc3fc00ba3a9186.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-b7b7e5da4d7be8c12bd5a6c809edc8fc.woff2) format("woff2"),url(/static/merriweather-latin-700italic-6210a5fc1c54ca85a5d82aa85d7a9b5c.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-43f870d543dd89fbeb66d417c0d97276.woff2) format("woff2"),url(/static/merriweather-latin-900-8f3806df74937c7b8b53f24ae1e725d1.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-168c1ab28ed0e4e7d654334def288bc1.woff2) format("woff2"),url(/static/merriweather-latin-900italic-ae7778f01871e35ee142ef207b313b34.woff) format("woff")}body{font-size:14px;color:rgba(3,17,31,.87);-webkit-font-smoothing:antialiased;line-height:1.5}@font-face{font-family:ydoc;src:url(https://s.qunarzz.com/ydoc/fonts/0.0.4/ydoc.eot);src:url(https://s.qunarzz.com/ydoc/fonts/0.0.4/ydoc.woff) format("woff"),url(https://s.qunarzz.com/ydoc/fonts/0.0.4/ymfe.ttf) format("truetype"),url(https://s.qunarzz.com/ydoc/fonts/0.0.4/ydoc.svg#iconfont) format("svg")}.ui-font-ydoc{font-family:ydoc}::-webkit-scrollbar{width:6px;height:4px}::-webkit-scrollbar-track{-webkit-box-shadow:rgba(241,235,233,.3);background:rgba(241,235,233,.1)}::-webkit-scrollbar-thumb{border-radius:3px;-webkit-box-shadow:rgba(241,235,233,.5)}::-webkit-scrollbar-thumb,::-webkit-scrollbar-thumb:window-inactive{background:rgba(199,176,168,.3)}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5em;font-weight:400;line-height:1.5}p{margin-top:0;margin-bottom:1em}.h1,h1{font-size:32px}.h2,h2{font-size:24px}.h3,h3{font-size:20px}.h4,h4{font-size:16px}.h5,h5{font-size:14px}.h6,h6{font-size:12px}@media screen and (max-width:960px){::-webkit-scrollbar{display:none}}*,:after,:before{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}html{font-size:100px}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,SimSun,sans-serif}blockquote,button,dd,dl,fieldset,figure,form,h1,h2,h3,h4,h5,h6,input,legend,ol,p,pre,td,textarea,th,ul,xmp{margin:0;padding:0}button,code,input,kbd,pre,samp,select,textarea,tt,xmp{line-height:inherit;font-family:inherit}table{border-collapse:collapse;border-spacing:0;table-layout:fixed;text-align:left}fieldset,img{border:0;vertical-align:middle}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,video{display:inline-block}blockquote:after,blockquote:before,q:after,q:before{content:" "}textarea{resize:vertical}button,input,select a,textarea{outline:0 none}button,input,select,textarea{color:inherit}button:disabled,input:disabled,select:disabled,textarea:disabled{opacity:1}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}mark{background-color:transparent}a,del,ins,s,u{text-decoration:none}a,img{-webkit-touch-callout:none}a:link,a:visited{color:inherit}.row{box-sizing:border-box;width:100%}.row:after{content:"";display:table;clear:both}.container{box-sizing:border-box}@media screen and (max-width:600px){.col-xs-1{width:8.33333%}.col-xs-1,.col-xs-2{float:left;box-sizing:border-box}.col-xs-2{width:16.66667%}.col-xs-3{width:25%}.col-xs-3,.col-xs-4{float:left;box-sizing:border-box}.col-xs-4{width:33.33333%}.col-xs-5{width:41.66667%}.col-xs-5,.col-xs-6{float:left;box-sizing:border-box}.col-xs-6{width:50%}.col-xs-7{width:58.33333%}.col-xs-7,.col-xs-8{float:left;box-sizing:border-box}.col-xs-8{width:66.66667%}.col-xs-9{width:75%}.col-xs-9,.col-xs-10{float:left;box-sizing:border-box}.col-xs-10{width:83.33333%}.col-xs-11{width:91.66667%}.col-xs-11,.col-xs-12{float:left;box-sizing:border-box}.col-xs-12{width:100%}.container{width:100%;padding:0 .16rem}}@media screen and (min-width:600px){.col-sm-1{width:8.33333%}.col-sm-1,.col-sm-2{float:left;box-sizing:border-box}.col-sm-2{width:16.66667%}.col-sm-3{width:25%}.col-sm-3,.col-sm-4{float:left;box-sizing:border-box}.col-sm-4{width:33.33333%}.col-sm-5{width:41.66667%}.col-sm-5,.col-sm-6{float:left;box-sizing:border-box}.col-sm-6{width:50%}.col-sm-7{width:58.33333%}.col-sm-7,.col-sm-8{float:left;box-sizing:border-box}.col-sm-8{width:66.66667%}.col-sm-9{width:75%}.col-sm-9,.col-sm-10{float:left;box-sizing:border-box}.col-sm-10{width:83.33333%}.col-sm-11{width:91.66667%}.col-sm-11,.col-sm-12{float:left;box-sizing:border-box}.col-sm-12{width:100%}.container{width:100%;padding:0 .16rem}}@media screen and (min-width:960px){.col-md-1{width:8.33333%}.col-md-1,.col-md-2{float:left;box-sizing:border-box}.col-md-2{width:16.66667%}.col-md-3{width:25%}.col-md-3,.col-md-4{float:left;box-sizing:border-box}.col-md-4{width:33.33333%}.col-md-5{width:41.66667%}.col-md-5,.col-md-6{float:left;box-sizing:border-box}.col-md-6{width:50%}.col-md-7{width:58.33333%}.col-md-7,.col-md-8{float:left;box-sizing:border-box}.col-md-8{width:66.66667%}.col-md-9{width:75%}.col-md-9,.col-md-10{float:left;box-sizing:border-box}.col-md-10{width:83.33333%}.col-md-11{width:91.66667%}.col-md-11,.col-md-12{float:left;box-sizing:border-box}.col-md-12{width:100%}.container{width:100%;padding:0 .16rem}}@media screen and (min-width:1440px){.col-lg-1{width:8.33333%}.col-lg-1,.col-lg-2{float:left;box-sizing:border-box}.col-lg-2{width:16.66667%}.col-lg-3{width:25%}.col-lg-3,.col-lg-4{float:left;box-sizing:border-box}.col-lg-4{width:33.33333%}.col-lg-5{width:41.66667%}.col-lg-5,.col-lg-6{float:left;box-sizing:border-box}.col-lg-6{width:50%}.col-lg-7{width:58.33333%}.col-lg-7,.col-lg-8{float:left;box-sizing:border-box}.col-lg-8{width:66.66667%}.col-lg-9{width:75%}.col-lg-9,.col-lg-10{float:left;box-sizing:border-box}.col-lg-10{width:83.33333%}.col-lg-11{width:91.66667%}.col-lg-11,.col-lg-12{float:left;box-sizing:border-box}.col-lg-12{width:100%}.container{width:100%;padding:0 .16rem}}.useage1{background-color:#f1ebe9}.useage2{background-color:#e3d7d3}.useage3{background-color:#d5c4be}.useage4{background-color:#c7b0a8}.useage5{background-color:#b99c92}.useage6{background-color:#ab887c}.useage7{background-color:#896d63}.useage8{background-color:#67524a}.useage9{background-color:#443632}.useage10{background-color:#221b19}/*! responsive-nav.js 1.0.39 by @viljamis */.m-header-nav ul{margin:0;padding:0;width:100%;display:block;list-style:none}.m-header-nav{clip:rect(0 0 0 0);max-height:0;position:absolute;display:block;overflow:hidden;zoom:1}.m-header-nav.opened{max-height:9999px}.nav-toggle{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}@media screen and (min-width:960px){.m-header-nav{position:relative}.m-header-nav.closed{max-height:none}.m-header-btn,.nav-toggle{display:none}}body,html{height:100%}body{width:100%}.slideout-menu{position:fixed;left:0;top:0;bottom:0;right:0;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:none}.slideout-panel{position:relative;z-index:1;will-change:transform}.slideout-open,.slideout-open .slideout-panel,.slideout-open body{overflow:hidden}.slideout-open .slideout-menu{display:block}@media screen and (min-width:960px){.slideout-menu{display:block}.slideout-panel{will-change:inherit}}@font-face{font-family:octicons-link;src:url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format("woff")}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto;padding:0;transition:all .2s}@media screen and (min-width:960px){.markdown-body{padding:0 .4rem}}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{color:#fafbfc;background-color:#b31d28}.markdown-body .pl-c2{color:#fafbfc;background-color:#d73a49}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#22863a}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#005cc5}.markdown-body .pl-mi{font-style:italic;color:#24292e}.markdown-body .pl-mb{font-weight:700;color:#24292e}.markdown-body .pl-md{color:#b31d28;background-color:#ffeef0}.markdown-body .pl-mi1{color:#22863a;background-color:#f0fff4}.markdown-body .pl-mc{color:#e36209;background-color:#ffebda}.markdown-body .pl-mi2{color:#f6f8fa;background-color:#005cc5}.markdown-body .pl-mdr{font-weight:700;color:#6f42c1}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{text-decoration:underline;color:#032f62}.markdown-body .octicon{display:inline-block;vertical-align:text-top;fill:currentColor}.markdown-body a{background-color:transparent}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:content-box;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{height:0;margin:15px 0;overflow:hidden;background:transparent;border-bottom:1px solid #dfe2e5}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{clear:both}.markdown-body table{border-spacing:0;border-collapse:collapse}.markdown-body td,.markdown-body th{padding:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:0;margin-bottom:0}.markdown-body h1{font-size:32px;font-weight:600}.markdown-body h2{font-size:24px;font-weight:600}.markdown-body h3{font-size:20px;font-weight:600}.markdown-body h4{font-size:16px;font-weight:600}.markdown-body h5{font-size:14px;font-weight:600}.markdown-body h6{font-size:12px;font-weight:600}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{padding-left:0;margin-top:0;margin-bottom:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0}.markdown-body .octicon{vertical-align:text-bottom}.markdown-body .pl-0{padding-left:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd{font-size:11px;border:1px solid #c6cbd1;border-bottom-color:#959da5;box-shadow:inset 0 -1px 0 #959da5}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1{padding-bottom:.3em;font-size:2em}.markdown-body h2{padding-bottom:.3em;font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li{word-wrap:break-all}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-bottom-color:#c6cbd1;border-radius:3px;box-shadow:inset 0 -1px 0 #c6cbd1}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-body hr{border-bottom-color:#eee}.markdown-body{color:rgba(3,17,31,.87)}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:500}.markdown-body h2{margin:.54rem 0 .24rem}.markdown-body h3{margin:.32rem 0 .16rem}.markdown-body a{text-decoration:none;background-color:rgba(202,165,151,.3);border-bottom:1px solid rgba(0,0,0,.2);color:rgba(3,17,31,.87);transition:all .2s}.markdown-body a:hover{text-decoration:none;background-color:#bbeffd;border-bottom-color:rgba(3,17,31,.87)}.markdown-body .type{color:#1890ff;font-size:16px}.markdown-body .versionTag{background:#1890ff;color:#fff;border-radius:4px;padding:2px 4px;font-size:14px}.markdown-body .desc{font-size:16px;font-weight:400;color:rgba(0,0,0,.65)}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.g-doc{display:flex;width:100%;height:100%;position:relative;left:0;transition:all .2s ease-in-out;overflow:hidden}.m-main{width:100%;overflow-y:auto;-webkit-overflow-scrolling:touch}.m-main h2:before,.m-main h3:before{content:"";display:block;margin-top:-.8rem;height:.8rem;visibility:hidden}@media screen and (min-width:960px){.m-main{box-shadow:none}}.m-header{min-height:.64rem;position:relative;display:flex;flex-direction:column;position:fixed;top:0;left:0;width:100%;color:rgba(3,17,31,.54);background-color:hsla(0,0%,100%,.97);border-bottom:1px solid #e5f0f6;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:999;-webkit-transform:translateZ(1000px);transform:translateZ(1000px)}.m-header-title{height:.64rem;padding:0 .3rem;display:flex;align-items:center}.m-header-title .logo,.m-header-title .name{display:inline-block;vertical-align:middle}.m-header-title .name{margin-left:.08rem;color:#ab887c;font-size:24px;font-family:Arial Rounded MT Bold}.m-header-nav{border-bottom:1px solid #e5f0f6}.m-header-nav .m-header-items{padding:.16rem}.m-header-nav .m-header-subtitle{padding:.08rem 1.5em}.m-header-nav .m-header-subtitle .item{width:100%}.m-header-nav .m-header-subtitle .link{display:inline-block;padding-left:.5em;padding-right:.5em;width:100%;background-color:transparent;border-radius:4px;line-height:.32rem;transition:all .2s}.m-header-nav .m-header-subtitle .link:hover{color:#ab887c;background-color:#f1ebe9}.m-header-nav .item{width:100%;display:inline-block;line-height:1.8;padding:0 .08rem;position:relative;cursor:pointer;transition:all .2s;min-height:.32rem}.m-header-nav .item:last-child{margin-bottom:0}.m-header-nav .item.active{font-weight:700;color:#ab887c}.m-header-nav .href{display:inline-block;padding-left:.5em;padding-right:.5em;height:.32rem;line-height:.32rem;width:100%;background-color:transparent;border-radius:4px;transition:all .2s}.m-header-nav .href:active{color:#ab887c;background-color:#f1ebe9}.m-header-btn{position:absolute;top:.08rem;right:.08rem;font-size:.24rem;line-height:1;color:rgba(3,17,31,.87);border-radius:2px;padding:.12rem;cursor:pointer;transition:color .2s;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.m-header-btn:hover{font-weight:700;color:rgba(3,17,31,.87)}@media screen and (min-width:960px){.m-header{flex-direction:row}.m-header-nav{border:none}.m-header-nav .m-header-items{padding:0}.m-header-nav .m-header-items>.item:hover .m-header-subtitle{display:flex;flex-wrap:wrap}.m-header-nav .m-header-subtitle{display:none;position:absolute;left:50%;top:.64rem;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:auto;background-color:#fff;padding:.08rem 1.5em;border-radius:4px;box-shadow:0 10px 100px rgba(50,50,93,.1),0 5px 35px rgba(50,50,93,.15),0 2px 15px rgba(0,0,0,.1)}.m-header-nav .m-header-subtitle .item{margin:0;padding:0 8px;color:rgba(3,17,31,.54);font-weight:400;white-space:nowrap;line-height:.4rem}.m-header-nav .m-header-subtitle:after{content:"";display:block;width:0;height:0;border:.08rem solid transparent;border-bottom-color:#fff;position:absolute;left:50%;top:-.16rem;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.m-header-nav .m-header-subtitle .link{display:inline-block;padding:0;width:auto}.m-header-nav .m-header-subtitle .link:hover{font-weight:700;color:rgba(3,17,31,.87);background-color:transparent}.m-header-nav .href{border-radius:0}.m-header-nav .href:hover{font-weight:700;color:rgba(3,17,31,.87);background-color:transparent}.m-header-nav .item{margin:0 .16rem;line-height:.64rem;width:auto;transition:color .2s}.m-header-nav .item.active{font-weight:700;color:rgba(3,17,31,.87)}.m-header-nav .item.active .href{border-bottom:2px solid #ab887c}.m-header .m-header-nav{overflow:inherit;transition:all .2s}}.m-aside{margin-top:.65rem;height:100%;height:calc(100% - .65rem)}.m-summary{padding:0 .24rem;position:absolute;left:0;top:0;z-index:1;width:100%;height:0;overflow-y:auto;-webkit-transform:translateY(0);transform:translateY(0);-webkit-overflow-scrolling:touch;transition:all .2s ease-in-out}.m-summary li,.m-summary ol,.m-summary ul{list-style:none}.m-summary.active{height:100%;background-color:#fff;padding:.24rem .24rem .89rem;-webkit-transform:translateY(.65rem);transform:translateY(.65rem)}.m-summary.active .m-summary-content{display:block}.m-summary.active+.m-summary-switch .top{-webkit-transform:translateY(10px);transform:translateY(10px)}.m-summary.active+.m-summary-switch .bottom{-webkit-transform:translateY(-10px);transform:translateY(-10px)}.m-summary-content{width:100%;height:auto;display:none}.m-summary-block{margin-bottom:.16rem}.m-summary-block.active>.href{font-weight:700;color:#ab887c}.m-summary-title{font-size:16px;line-height:2.5;color:rgba(3,17,31,.87);padding-left:.08rem}.m-summary-list{font-size:14px;line-height:2.5}.m-summary-list.indent{padding-left:1.5em}.m-summary-list .item{color:rgba(3,17,31,.54);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.m-summary-list .item.active{font-weight:700;color:#ab887c}.m-summary-list .href{color:inherit;background-color:transparent;transition:all .2s;display:inline-block;width:100%;border-radius:4px;padding-left:.08rem}.m-summary-list .href:hover{color:#ab887c;background-color:#f1ebe9}.m-summary-switch{font-family:ydoc;position:fixed;right:.24rem;bottom:.48rem;width:.6rem;height:.6rem;border-radius:50%;color:#ab887c;box-shadow:0 0 20px rgba(0,0,0,.3);background-color:rgba(3,17,31,.87);-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;justify-content:center;align-items:center;flex-direction:column-reverse;z-index:1}.m-summary-switch .bottom,.m-summary-switch .top{transition:all .2s ease-in-out}@media screen and (min-width:960px){.m-summary{position:static;height:100%;width:2.4rem;padding:.4rem .32rem;flex:3rem 0}.m-summary-switch{display:none}.m-summary-content{display:block}}@media screen and (min-width:1440px){.m-summary{width:3rem}}.m-content{overflow-y:scroll;overflow-x:hidden;-webkit-overflow-scrolling:touch;background-color:#fff;padding-top:.64rem;height:100%}.m-content-container{max-width:8.1rem;padding:.48rem .24rem 1.2rem;margin:0 auto}.m-content-container .title{line-height:1}.m-content-container.markdown-body{min-height:calc(100% - 2rem)}.m-paging{font-size:16px}.m-paging-item{width:50%;color:inherit;transition:color .2s}.m-paging-item:hover{color:#ab887c}.m-paging-prev{float:left}.m-paging-next{float:right;text-align:right}.m-paging:after{content:"";display:block;clear:both}.m-paging .href{display:inline-block;width:100%;padding:.04rem}@media screen and (min-width:960px){.m-content{overflow-x:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}}.m-footer{background-color:#fff;padding:.24rem}.m-footer li,.m-footer ol,.m-footer ul{list-style:none}.m-footer-container{display:flex;flex-direction:column;padding:0;transition:all .2s}.m-footer-title{text-align:center}.m-footer-links{display:flex;flex-wrap:wrap;margin-bottom:.16rem;justify-content:center}.m-footer-links .group{flex-basis:30%;flex-shrink:0;margin-bottom:.24rem}.m-footer-links .title{font-size:16px;line-height:2;color:rgba(3,17,31,.38)}.m-footer .href{line-height:1.8;padding:.3em 0;color:rgba(3,17,31,.54);background-color:#fff;transition:all .2s}.m-footer .href:hover{color:#ab887c}.m-footer-title{color:rgba(3,17,31,.54)}@media screen and (min-width:960px){.m-footer{font-size:16px;color:rgba(3,17,31,.54);padding:.24rem .64rem}.m-footer-container{flex-direction:row;max-width:10.24rem;margin:.24rem auto;padding:0 .32rem}.m-footer-title{flex:1 1;text-align:right;margin-bottom:.32rem}.m-footer-links{justify-content:inherit;flex:2 1}}.g-home .m-header{background-color:#fbfbfb}.g-home .m-section{position:relative}.g-home .m-section-container{max-width:10.24rem;margin:0 auto;padding:.8rem .32rem;display:flex;justify-content:center;align-items:center;flex-direction:column}.g-home .m-section-title{text-align:center}.g-home .m-section-title .name{margin-bottom:.24rem;font-size:32px;position:relative}.g-home .m-section-title .name:after{content:"";display:block;position:absolute;bottom:-.08rem;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:.48rem;height:3px;background-color:#896d63}.g-home .m-section-title .desc{font-size:16px;color:rgba(3,17,31,.54);line-height:1.6}.g-home .m-section-banner{width:100%;position:absolute;z-index:0;bottom:0;left:50%;-webkit-transform:translateX(-45%);transform:translateX(-45%)}.g-home .m-section-banner img{width:100%}.g-home .m-section-box{display:flex;justify-content:space-between;flex-wrap:wrap}.g-home .m-section .btn{width:1.2rem;padding:.14rem;line-height:.2rem;font-size:16px;color:#ab887c;background-color:#fff;margin-right:.08rem;border-radius:6px;text-align:center;-webkit-user-select:none;-ms-user-select:none;user-select:none;border:1px solid #ab887c;cursor:pointer;transition:all .2s;-webkit-transform:translateY(0);transform:translateY(0)}.g-home .m-section .btn:hover{color:#fff;background-color:#ab887c}.g-home .m-section .btn:active{background-color:#67524a}.g-home .m-section .btn.btn-ghost{border:none}.g-home .m-section.home{padding:.56rem .24rem .64rem;border-bottom:1px solid rgba(3,17,31,.14)}.g-home .m-section.home .m-section-container{padding:.24rem .32rem}.g-home .m-section.home .m-section-title{text-align:center;color:rgba(3,17,31,.87);flex:1 1}.g-home .m-section.home .m-section-title .name{margin-bottom:.16rem}.g-home .m-section.home .m-section-title .name:after{display:none}.g-home .m-section.home .m-section-title .desc{color:rgba(3,17,31,.54)}.g-home .m-section.home .m-section-btngroup{display:flex;justify-content:center;padding:.24rem 0 .16rem;position:relative;z-index:1}.g-home .m-section.home .caption{font-size:16px;color:rgba(3,17,31,.38)}.g-home .m-section.feature{background-color:#fbfbfb;border-bottom:1px solid rgba(3,17,31,.14)}.g-home .m-section.feature .item{flex:0 0 46%;margin-bottom:.32rem}.g-home .m-section.feature .item .title{font-size:32px;margin-bottom:.16rem}.g-home .m-section.feature .item .desc{font-size:16px;color:rgba(3,17,31,.54)}@media screen and (min-width:960px){.g-home .m-section.home .m-section-container{flex-direction:row}.g-home .m-section-title .name{font-size:48px}.g-home .m-section-title .desc{font-size:20px;line-height:1.6}.g-home .m-section-banner{width:7.7rem}.g-home .m-section .btn{margin-right:.16rem}.g-home .m-section.home .m-section-title{text-align:left}.g-home .m-section.home .m-section-title .name{font-size:48px}.g-home .m-section.home .m-section-title .desc{font-size:20px;line-height:1.6}.g-home .m-section.home .m-section-btngroup{justify-content:left;margin-top:.24rem}.g-home .m-footer .m-footer-container{max-width:10.24rem}}.m-content.custom .m-content-container{max-width:10.24rem}.m-content-container.container-design{max-width:8.8rem}.m-content-container.container-design .m-post{border-radius:8px;box-shadow:0 30px 60px -12px rgba(50,50,93,.25),0 18px 36px -18px rgba(0,0,0,.3),0 -12px 36px -8px rgba(0,0,0,.025);overflow:hidden}.m-content-container.container-design .m-post .m-post-content{padding:24px}.m-content-container.container-design .m-post .m-post-content .title{margin-top:.08rem;line-height:1}.m-content-container.container-design .m-post .m-post-img{flex:1 0 2rem;background-size:cover;background-repeat:no-repeat;background-position:50%}.m-content-container.container-reading{max-width:8.8rem}.m-content-container.container-reading .m-post .m-post-content{padding:24px;border-radius:8px;box-shadow:0 30px 60px -12px rgba(50,50,93,.25),0 18px 36px -18px rgba(0,0,0,.3),0 -12px 36px -8px rgba(0,0,0,.025);overflow:hidden}.m-content-container.container-reading .m-post .m-post-content .title{margin-top:.08rem;line-height:1}.m-content-container.container-reading .m-post .m-post-content .content{display:flex;color:rgba(3,17,31,.54);font-family:sans-serif}.m-content-container.container-reading .m-post .m-post-content .item{flex:1 1}.m-content-container.container-reading .m-post .m-post-content .item.tag{flex:0 1 auto;border-radius:4px;font-size:14px;padding:0 8px;color:rgba(3,17,31,.38);border:1px solid rgba(3,17,31,.38)}.m-content-container.container-reading .m-post .m-post-content .item.process{flex:0 0 40%;display:flex;align-items:center}.m-content-container.container-reading .m-post .m-post-content .item.process .percent{flex:0 0 40px;font-weight:700}.m-content-container.container-reading .m-post .m-post-content .item.process .line-base{width:100%;height:4px;background:#ddd;border-radius:2px;margin-left:8px}.m-content-container.container-reading .m-post .m-post-content .item.process .line-highlight{width:100%;height:4px;border-radius:2px}.m-content-container.container-reading .m-post .m-post-content .item.process.low .percent{color:#c41b24}.m-content-container.container-reading .m-post .m-post-content .item.process.low .line-highlight{background-color:#c41b24}.m-content-container.container-reading .m-post .m-post-content .item.process.middle .percent{color:#1373cc}.m-content-container.container-reading .m-post .m-post-content .item.process.middle .line-highlight{background-color:#1373cc}.m-content-container.container-reading .m-post .m-post-content .item.process.complete .percent{color:#429d15}.m-content-container.container-reading .m-post .m-post-content .item.process.complete .line-highlight{background-color:#429d15}.m-content-container.container-reading .m-post .m-post-img{flex:1 0 2rem;background-size:cover;background-repeat:no-repeat;background-position:50%}.m-post{margin-bottom:.48rem;display:flex;transition:all .2s;flex-direction:column}.m-post .m-post-content{order:2;background-color:#fff}.m-post .m-post-content .title{margin-top:.24rem;line-height:1}.m-post .m-post-img{order:1;flex:1 0 100%}.m-post:hover{color:#ab887c;cursor:pointer}@media screen and (min-width:960px){.m-post{flex-direction:row}.m-post .m-post-content{flex:1 1;padding-right:.24rem;order:1}.m-post .m-post-content .title{margin-top:0}.m-post .m-post-img{flex:0 0 2.4rem;order:2}.m-content-container.container-design .m-post{border-radius:8px;box-shadow:0 30px 60px -12px rgba(50,50,93,.25),0 18px 36px -18px rgba(0,0,0,.3),0 -12px 36px -8px rgba(0,0,0,.025);overflow:hidden;height:2.2rem;transition:all .2s}.m-content-container.container-design .m-post:hover{-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 40px 75px -18px rgba(50,50,93,.25),0 18px 36px -18px rgba(0,0,0,.3),0 -12px 36px -8px rgba(0,0,0,.025)}.m-content-container.container-design .m-post:active{-webkit-transform:translateY(2px);transform:translateY(2px);box-shadow:0 20px 45px -8px rgba(50,50,93,.25),0 18px 36px -18px rgba(0,0,0,.3),0 -12px 36px -8px rgba(0,0,0,.025)}.m-content-container.container-design .m-post .m-post-content{padding:.24rem .24rem .24rem .32rem}.m-content-container.container-design .m-post .m-post-img{flex:0 0 3rem;background-size:cover;background-repeat:no-repeat;background-position:70%;position:relative;overflow:hidden}.m-content-container.container-design .m-post .m-post-img:after{content:"";display:block;width:0;height:0;position:absolute;border-color:transparent #fff #fff transparent;border-style:solid;border-width:1.1rem .2rem;top:0;right:0}.m-content-container.container-design .m-post-content{flex:2 1;padding-right:.24rem;order:1}.m-content-container.container-design .m-post-content .title{margin-top:0}.m-content-container.container-design .m-post-img{flex:0 0 2.4rem;order:1}.m-content-container.container-reading{display:flex;justify-content:space-between;flex-wrap:wrap}.m-content-container.container-reading .m-post{flex:0 0 50%;padding:.16rem}.m-content-container.container-reading .m-post .m-post-content{padding-left:.32rem;border-radius:8px;box-shadow:0 30px 60px -12px rgba(50,50,93,.25),0 18px 36px -18px rgba(0,0,0,.3),0 -12px 36px -8px rgba(0,0,0,.025);overflow:hidden;transition:all .2s}.m-content-container.container-reading .m-post .m-post-content:hover{-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 40px 75px -18px rgba(50,50,93,.25),0 18px 36px -18px rgba(0,0,0,.3),0 -12px 36px -8px rgba(0,0,0,.025)}.m-content-container.container-reading .m-post .m-post-content:active{-webkit-transform:translateY(2px);transform:translateY(2px);box-shadow:0 20px 45px -8px rgba(50,50,93,.25),0 18px 36px -18px rgba(0,0,0,.3),0 -12px 36px -8px rgba(0,0,0,.025)}.m-content-container.container-reading .m-post .m-post-img{flex:0 0 3rem;background-size:cover;background-repeat:no-repeat;background-position:70%;position:relative;overflow:hidden}.m-content-container.container-reading .m-post .m-post-img:after{content:"";display:block;width:0;height:0;position:absolute;border-color:transparent #fff #fff transparent;border-style:solid;border-width:1.1rem .2rem;top:0;right:0}.m-content-container.container-reading .m-post-content{flex:2 1;padding-right:.24rem;order:1}.m-content-container.container-reading .m-post-content .title{margin-top:0}.m-content-container.container-reading .m-post-img{flex:0 0 2.4rem;order:1}}*{margin:0;padding:0}</style><meta name="generator" content="Gatsby 2.32.13"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=6bd7ecb18bda50ee8cda9794740dc324" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=6bd7ecb18bda50ee8cda9794740dc324"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=6bd7ecb18bda50ee8cda9794740dc324"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=6bd7ecb18bda50ee8cda9794740dc324"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=6bd7ecb18bda50ee8cda9794740dc324"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=6bd7ecb18bda50ee8cda9794740dc324"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=6bd7ecb18bda50ee8cda9794740dc324"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=6bd7ecb18bda50ee8cda9794740dc324"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=6bd7ecb18bda50ee8cda9794740dc324"/><title data-react-helmet="true">暗黑模式 Code Review &amp; 分享 | dwb-blog</title><meta data-react-helmet="true" name="referrer" content="no-referrer"/><meta data-react-helmet="true" name="description" content="零、前言 10月份我进行了一次暗黑模式的 code review 11月份我进行了一场 Docs 暗黑模式的分享，在此我整理成一篇博客，记录一下 本次分享带来的是 Docs 适配暗黑模式的来龙去脉、简要介绍开发方案、分享项目中踩过的坑、引起的思考，希望给大家带来帮助。此外工程上有一些改动，因此借此机会宣讲后续开发规范。 一、项目背景 随着 iOS 13 和 Android 10 正式发布，暗黑（深色）模式逐渐进入大家视野，各大 APP 纷纷进行适配。MacOS 为用户提供了“浅色”、“深色”两种模式进行切换，暗黑对于程序员来说很容易接受，常见的 IDE…"/><meta data-react-helmet="true" property="og:title" content="暗黑模式 Code Review &amp; 分享"/><meta data-react-helmet="true" property="og:description" content="零、前言 10月份我进行了一次暗黑模式的 code review 11月份我进行了一场 Docs 暗黑模式的分享，在此我整理成一篇博客，记录一下 本次分享带来的是 Docs 适配暗黑模式的来龙去脉、简要介绍开发方案、分享项目中踩过的坑、引起的思考，希望给大家带来帮助。此外工程上有一些改动，因此借此机会宣讲后续开发规范。 一、项目背景 随着 iOS 13 和 Android 10 正式发布，暗黑（深色）模式逐渐进入大家视野，各大 APP 纷纷进行适配。MacOS 为用户提供了“浅色”、“深色”两种模式进行切换，暗黑对于程序员来说很容易接受，常见的 IDE…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="dwb"/><meta data-react-helmet="true" name="twitter:title" content="暗黑模式 Code Review &amp; 分享"/><meta data-react-helmet="true" name="twitter:description" content="零、前言 10月份我进行了一次暗黑模式的 code review 11月份我进行了一场 Docs 暗黑模式的分享，在此我整理成一篇博客，记录一下 本次分享带来的是 Docs 适配暗黑模式的来龙去脉、简要介绍开发方案、分享项目中踩过的坑、引起的思考，希望给大家带来帮助。此外工程上有一些改动，因此借此机会宣讲后续开发规范。 一、项目背景 随着 iOS 13 和 Android 10 正式发布，暗黑（深色）模式逐渐进入大家视野，各大 APP 纷纷进行适配。MacOS 为用户提供了“浅色”、“深色”两种模式进行切换，暗黑对于程序员来说很容易接受，常见的 IDE…"/><link as="script" rel="preload" href="/webpack-runtime-fa1fddd08d3069d43a42.js"/><link as="script" rel="preload" href="/framework-8ce806772d71c2f2cbec.js"/><link as="script" rel="preload" href="/app-108dc986382adf12f058.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/b7c9d27beaed3aca15ea40f28aaeebedeb85369e-d2acb654806c188648eb.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-aefad128caa65a788de2.js"/><link as="fetch" rel="preload" href="/page-data/blog/docs-darkmode/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3128451518.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto"><header class="m-header"><div class="m-header-title"><a href="/" target="_self"><img class="logo" width="36" src="/img/1x.png" srcSet="/img/2x.png 2x"/><h6 class="name">dwb - blog</h6></a></div><nav class="m-header-nav js-nav "><ul class="m-header-items"><li class="item"><a class="href" href="/">博 客</a></li><li class="item"><a class="href" href="/design">设 计</a></li><li class="item"><a class="href" href="/reading">阅 读</a></li><li class="item"><a class="href" href="/about">关 于</a></li></ul></nav><div id="js-nav-btn" class="m-header-btn ui-font-ydoc"></div></header><div class="m-content "><div class="m-content-container markdown-body "><h1>暗黑模式 Code Review &amp; 分享</h1><p>November 29, 2021</p><div><h2>零、前言</h2>
<p>10月份我进行了一次暗黑模式的 code review</p>
<p>11月份我进行了一场 Docs 暗黑模式的分享，在此我整理成一篇博客，记录一下</p>
<p>本次分享带来的是 Docs 适配暗黑模式的来龙去脉、简要介绍开发方案、分享项目中踩过的坑、引起的思考，希望给大家带来帮助。此外工程上有一些改动，因此借此机会宣讲后续开发规范。</p>
<h2>一、项目背景</h2>
<p>随着 iOS 13 和 Android 10 正式发布，暗黑（深色）模式逐渐进入大家视野，各大 APP 纷纷进行适配。MacOS 为用户提供了“浅色”、“深色”两种模式进行切换，暗黑对于程序员来说很容易接受，常见的 IDE 默认主题一般都是深色背景。
暗黑模式的好处：</p>
<ol>
<li>省电</li>
<li>色盲色弱友好</li>
<li>弱光环境使用友好</li>
<li>长时间专注用眼，减少视觉疲劳</li>
<li>提升品质感与沉浸感</li>
</ol>
<p><strong>效果预览：</strong>
<img src="/img/darkmode/yulan.png"></p>
<h2>二、开发过程</h2>
<h3>1、沟通并确定排期</h3>
<p>回顾项目开发的过程：</p>
<p>由于需求排期较长，在项目初期进行了细化的排期</p>
<pre>
9.29-10.12 色值排查与替换（使用脚本），整理用到的组件（包括 不规范的色值、单色/多色 icon、图片 ）
10.13-10.18 组件样式改造（基于 antd 本地化分支）
10.19-10.25 icon、图片整理与替换（可能延期2天）
走查与测试：
10.13，设计师开始色值走查
10.25，设计师开始全局走查
11.01，设计师走查延后两周
11.8-11.17 共计8PD，前端 0.5 * 1 人力支持，设计走查 0.2 * 3 人力
11.17-11.19 测试介入
11.24 全量上线代码

关键文档：组件梳理文档，分模块梳理各个页面用到的 单色 icon、多色 icon 和图片，三个部分
</pre>
<h3>2、进行工程改造</h3>
<h4>1. 色值切换原理</h4>
<p><strong>使用了 css variable 修改主题色</strong>，经调研符合目前系统的兼容性要求</p>
<p>初始化时，在 js 逻辑中根据 isKim &#x26; 媒体查询，给 html 标签添加 className: .kim-dark-mode</p>
<p>监听 media 的 change 事件，回调时修改 html 标签的 className</p>
<div class="gatsby-highlight" data-language="less"><pre class="language-less"><code class="language-less"><span class="token comment">// config/public/css-variables.ejs</span>
<span class="token selector">:root</span> <span class="token punctuation">{</span>
  <span class="token property">--Gray01</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">:root.kim-dark-mode</span> <span class="token punctuation">{</span>
  <span class="token property">--Gray01</span><span class="token punctuation">:</span> #17181A<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// packages/ui/style/colors.less</span>
<span class="token variable">@Gray01<span class="token punctuation">:</span></span> <span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">-</span>Gray01<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// packages/ui/style/utils.less</span>
<span class="token comment">// 媒体查询 暗黑模式特殊判断逻辑</span>
<span class="token comment">// 传入代码片段, IMP: 注意外层不能嵌套选择器</span>
<span class="token selector">.darkRules(<span class="token variable">@rules</span>)</span> <span class="token punctuation">{</span>
  <span class="token selector">html.kim-dark-mode</span> <span class="token punctuation">{</span>
    <span class="token variable">@rules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>没有使用 less 的 modifyVars 方法，modifyVars 方法基于 less 在浏览器中的编译，工程改造成本较高</p>
<h3>2. 构建色值变量</h3>
<p>使用 css variables 的形式定义变量</p>
<p>基于 colors-src.ts 文件构建出三个文件（npm run buildColor）</p>
<ol>
<li>/config/public/css-variables.ejs —— css variables</li>
<li>/packages/ui/style/colors.less —— less variables</li>
<li>/packages/ui/style/colors.ts —— ts variables</li>
</ol>
<p>ts 使用方法如下（不推荐，可能存在副作用）：</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">// packages/ui/style/colors.ts 源文件</span>
<span class="token keyword">import</span> themes <span class="token keyword">from</span> <span class="token string">'./color-src'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> isKimDark <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@is-docs-packages/components/common-utils/dark'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> mode <span class="token operator">=</span> isKimDark <span class="token operator">?</span> <span class="token string">'dark'</span> <span class="token operator">:</span> <span class="token string">'light'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> themeColors <span class="token operator">=</span> themes<span class="token punctuation">[</span>mode<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> Gray01 <span class="token operator">=</span> themeColors<span class="token punctuation">.</span>Gray01<span class="token punctuation">;</span>

<span class="token comment">// xxx.tsx 使用侧</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> colors <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@is-docs-packages/ui/style/colors'</span><span class="token punctuation">;</span>
colors<span class="token punctuation">.</span>Gray01</code></pre></div>
<h3>3. 组件改造：</h3>
<ol>
<li>
<p>基于上述色值切换原理，使用色值收敛脚本替换颜色，自动实现 <strong>业务组件</strong> 暗黑模式切换</p>
<p><strong>原理：编写 node 脚本，遍历项目各个目录中的文件，使用正则进行字符串替换</strong></p>
<p><strong>css变量中，十六进制色值修改为 @Gray01 的形式；rgba 修改为 rgba(var(—Gray01RGB), 0.2); 的形式。目前 docs 项目都迁移成了变量与 fade 形式 (除知识库)，改色值比较容易</strong></p>
</li>
<li>
<p>基于 ant design 本地化，修改变量文件，实现 <strong>ant design 组件</strong> 的暗黑模式切换</p>
<img src="/img/darkmode/1.png" width="80%">
<p>ant design 的色值未支持暗黑模式，为了实现暗黑模式，需要将 ant design 的色值变量<strong>全部</strong>替换为支持切换暗黑模式的色值</p>
<p>Docs 项目使用了很多 ant design 的组件（首页居多），以前使用样式覆盖，修改不方便。本地化后的目录是组件库项目的 【packages/ui/docs-antd】目录，<strong>以后修改 ant design 组件的基础样式都在这个目录下修改</strong></p>
<p>本地化后，适配暗黑模式更方便</p>
<p>ant design 色彩系统使用了函数计算，根据某一个基准色值生成一条渐变色板，优势是 <strong>样式变量高度收敛</strong>，劣势是 <strong>定制性比较差</strong>，不够灵活，3.x后色板算法没再更新，计算得出的某些色值 <strong>无法达到足够适合阅读的对比度</strong> 。关于 <a href="http://dwbbb.com/blog/ant-design-palettes/">ant design 色板生成算法</a> 的原理、现存问题，有兴趣的同学可以看我的博客</p>
<p>我们 Docs 项目有比较强的定制性需求，因此色板使用的是设计师定义的色值，但需要设计师维护所有色值，更新色值相对麻烦一些</p>
<p><img src="/img/darkmode/2.png"></p>
<div class="gatsby-highlight" data-language="less"><pre class="language-less"><code class="language-less"><span class="token variable">@primary-1<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{primary-color}'</span><span class="token punctuation">,</span> 1<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// replace tint(@primary-color, 90%)</span>
<span class="token variable">@primary-2<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{primary-color}'</span><span class="token punctuation">,</span> 2<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// replace tint(@primary-color, 80%)</span>
<span class="token variable">@primary-3<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{primary-color}'</span><span class="token punctuation">,</span> 3<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// unused</span>
<span class="token variable">@primary-4<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{primary-color}'</span><span class="token punctuation">,</span> 4<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// unused</span>
<span class="token variable">@primary-5<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{primary-color}'</span><span class="token punctuation">,</span> 5<span class="token punctuation">)</span> `<span class="token punctuation">;</span>
<span class="token variable">@primary-6<span class="token punctuation">:</span></span> <span class="token variable">@primary-color</span><span class="token punctuation">;</span> 
<span class="token variable">@primary-7<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{primary-color}'</span><span class="token punctuation">,</span> 7<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// replace shade(@primary-color, 5%)</span>
<span class="token variable">@primary-8<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{primary-color}'</span><span class="token punctuation">,</span> 8<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// unused</span>
<span class="token variable">@primary-9<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{primary-color}'</span><span class="token punctuation">,</span> 9<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// unused</span>
<span class="token variable">@primary-10<span class="token punctuation">:</span></span> <span class="token function">color</span><span class="token punctuation">(</span>~`<span class="token function">colorPalette</span><span class="token punctuation">(</span><span class="token string">'@{primary-color}'</span><span class="token punctuation">,</span> 10<span class="token punctuation">)</span> `<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// unused</span>
<span class="token comment">// 转换成</span>
<span class="token variable">@primary-1<span class="token punctuation">:</span></span> <span class="token variable">@Blue09</span><span class="token punctuation">;</span>
<span class="token variable">@primary-2<span class="token punctuation">:</span></span> <span class="token variable">@Blue08</span><span class="token punctuation">;</span>
<span class="token variable">@primary-3<span class="token punctuation">:</span></span> <span class="token variable">@Blue07</span><span class="token punctuation">;</span>
<span class="token variable">@primary-4<span class="token punctuation">:</span></span> <span class="token variable">@Blue06</span><span class="token punctuation">;</span>
<span class="token variable">@primary-5<span class="token punctuation">:</span></span> <span class="token variable">@Blue05</span><span class="token punctuation">;</span>
<span class="token variable">@primary-7<span class="token punctuation">:</span></span> <span class="token variable">@Blue04</span><span class="token punctuation">;</span>
<span class="token variable">@primary-8<span class="token punctuation">:</span></span> <span class="token variable">@Blue03</span><span class="token punctuation">;</span>
<span class="token variable">@primary-9<span class="token punctuation">:</span></span> <span class="token variable">@Blue02</span><span class="token punctuation">;</span>
<span class="token variable">@primary-10<span class="token punctuation">:</span></span> <span class="token variable">@Blue01</span><span class="token punctuation">;</span></code></pre></div>
<p>转换过程使用了 <a href="https://github.com/bgrins/TinyColor">tinyColor</a> 第三方库的 readability 函数，该函数返回两种颜色之间的对比度，需要先确定该色值所属的色板，相对来说更加准确，我的策略是<strong>先替换再走查</strong></p>
<img src="/img/darkmode/3.png" width="80%">
<p>另一种方式：
之前第一版收敛色值时策略是<strong>先走查再替换</strong>：使用的是 <strong><a href="https://gka.github.io/chroma.js/#chroma-deltae">deltaE</a></strong> 来计算颜色的相似性，梳理了各工程用到的色值，和设计师给出的色板进行了对应，梳理页面如下：</p>
<img src="/img/darkmode/4.png" width="80%">
<p>设计师对梳理的结果进行微调，确定最终替换脚本的规则，附：</p>
<p>在 js 中计算 deltaE: <a href="https://stackoverflow.com/questions/54738431/calculate-deltae94-in-javascript">https://stackoverflow.com/questions/54738431/calculate-deltae94-in-javascript</a></p>
<p>第三方库 chroma 也有实现这个功能: <a href="https://gka.github.io/chroma.js/#chroma-deltae">https://gka.github.io/chroma.js/#chroma-deltae</a></p>
<h3>4. 通过 context 实现 tsx 中树节点更新</h3>
<p>更新的一般包括图片、tsx 中的色值</p>
<p>组件库 <code class="language-text">is-docs-components/packages/components/component-ctx.tsx</code> 文件提供了暗黑模式的 context 实例，包含 isDark: boolean; theme: 色值表 这两个变量，Docs 首页项目在 App.tsx 中使用该 context，并提供 Provider</p>
<p><strong>其他工程没有提供 Provider，则取到的 isDark 为 false，即不会影响未接入暗黑模式的工程</strong></p>
<h3>5. icon 适配</h3>
<p>原理：</p>
<p>iconfont.cn 项目中，暗黑模式的命名是在对应的浅色模式 icon 后面加 <strong>“_dark” 后缀</strong></p>
<p>执行脚本【npm run buildIcon（scripts/dark-icons-build.js）】</p>
<p>从 iconfont 平台下载后，读取下载的 iconfont 文件，根据每个 svg 标签的 key 值是否包含  <strong>“_dark”后缀</strong> 打包成两个 iconfont.js 文件，初始化时根据 isKim &#x26; media isDark 确定引入的是 font<em>xxx.js 或者 font</em>xxx_dark.js </p>
<p>媒体查询监听暗黑模式 onchange 时，<strong>删除 html 中对应的 svg sprite 标签</strong>，拼接新 script 标签（iconfont.js 文件）并 <strong>append</strong> 到 dom 中：</p>
<div class="gatsby-highlight" data-language="ts"><pre class="language-ts"><code class="language-ts"><span class="token comment">// 执行 dark-icons-build.js 时，给 svg 标签加上 xmlns:theme 自定义属性，以便通过选择器查找</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">svg[xmlns\\:theme=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isDark <span class="token operator">?</span> <span class="token string">'light'</span> <span class="token operator">:</span> <span class="token string">'dark'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
script<span class="token punctuation">.</span>src <span class="token operator">=</span> isDark <span class="token operator">?</span> <span class="token constant">PC_ICON_URL_DARK</span> <span class="token operator">:</span> <span class="token constant">PC_ICON_URL</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Icon 的 key 值不变，但对应的 Symbols 中引用的 iconfont path 已经改变，从而实现切换 light/dark 模式的 icons</p>
<p>封装 &#x3C;IconFont /> 组件，color 属性通过 props 的形式传入色值的 key 值，传入错误的 key 值在开发环境会报 warning</p>
<p>推荐通过 className &#x26; less 写色值，而不是通过 color props 传入</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">BasicActiveRectIcon</span></span>
<span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>k-docs-icon-cebianshouqi<span class="token punctuation">"</span></span>
<span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">flexShrink</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span>
<span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IconFont</span></span>
<span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">'16px'</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> colors<span class="token punctuation">.</span>Gray09 <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Gray09<span class="token punctuation">"</span></span>
<span class="token punctuation">/></span></span></code></pre></div>
<h3>6. 图片</h3>
<p>通用图片收敛到组件库的 packages/components/assets/dark[light] 目录</p>
<p>两个目录: 根目录 &#x26; dark</p>
<img src="/img/darkmode/5.png" width="80%">
<p>根据 context 中的 isDark flag，使用相同/不同图片</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> nullImg <span class="token keyword">from</span> <span class="token string">'@src/assets/light/null.png'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> nullImgDark <span class="token keyword">from</span> <span class="token string">'@src/assets/dark/null.png'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useThemeContext <span class="token keyword">from</span> <span class="token string">'@is-docs-packages/hooks/useThemeContext'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>isDark<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useThemeContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Empty</span></span> <span class="token attr-name">image</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>isDark <span class="token operator">?</span> nullImgDark <span class="token operator">:</span> nullImg<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span></code></pre></div>
</li>
</ol>
<h3>7. 测试与上线</h3>
<ol>
<li>
<p>测试与走查方案：</p>
<p>a. docs 测试环境配置灰度，由于 Kima 包尚未准备好，docs 首页走查时前期是在 web 端走查，注释了 isKim 判断是否在 kim 内的逻辑</p>
<p>b. 测试打出暗黑模式专用的 Kima 包，docs 标签页使用的是 docs 测试环境</p>
</li>
<li>
<p>灰度方案</p>
<p>a.	Kim 端计划在12月发布灰度版本，灰度范围逐步扩大，Docs 与 Kim 保持灰度范围一致</p>
<p>b.	新增的需求使用色值变量，自动实现暗黑模式，需求测试/走查时应注意回归暗黑模式样式</p>
</li>
<li>
<p>上线方案</p>
<p>a.	11.25 全量上线暗黑模式代码，目的是代码 <strong>尽早</strong> 合入master，增量的业务尽早适配暗黑模式的写法，否则新需求代码合进来都需要为适配暗黑模式做转换</p>
<p>b.	上线之后通过 <strong>分享</strong> 的形式对齐工程与规范的变动</p>
<p>c.	上线后灰度范围 <strong>与 Kim 保持一致</strong>，直到 kim 全量上线</p>
</li>
</ol>
<h2>三、编码规范</h2>
<p>内部文档：GUI 一致性 2.0，不便对外展示，列举出部分目录，大体能看到包含的内容：</p>
<ol>
<li>规范说明</li>
<li>目录结构</li>
<li>less 样式编写<br/>
a. less 文件中变量的使用方式不变<br/>
b. 后续需求需替换 fade 写法，否则构建时报错<br/>
c. 使用色值变量文件 (colors.less) 中的色值<br/>
d. 使用场景色<br/>
e. 摹客平台新增规范<br/>
f. 使用 vscode 插件<br/>
g. 暗黑模式特殊判断<br/>
h. 其他样式规范<br/></li>
<li>色板更新与使用</li>
<li>iconfont 更新与使用</li>
<li>图片使用</li>
<li>
<p>修改组件库样式<br/>
a. 修改 ant design 组件的默认样式<br/>
b. 历史遗留：修改自定义 ant design 组件样式<br/>
c. 组件库的正确使用姿势：<br/></p>
<p>场景色如下：</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token literal-property property">PrimaryColor</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Blue03<span class="token punctuation">,</span> <span class="token comment">// 主色 (@Blue03)</span>
<span class="token literal-property property">CardBg</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray01<span class="token punctuation">,</span> <span class="token comment">// 卡片背景色</span>
<span class="token literal-property property">CardNestedBg</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray02<span class="token punctuation">,</span> <span class="token comment">// 卡片内嵌套区域背景色</span>
<span class="token comment">// 主按钮 - primary</span>
<span class="token literal-property property">ButtonPrimaryBg</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Blue03<span class="token punctuation">,</span> <span class="token comment">// 主按钮背景色</span>
<span class="token literal-property property">ButtonPrimaryText</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray01<span class="token punctuation">,</span> <span class="token comment">// 主按钮文本色</span>
<span class="token literal-property property">ButtonPrimaryBgHover</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Blue04<span class="token punctuation">,</span> <span class="token comment">// 背景色 - hover</span>
<span class="token literal-property property">ButtonPrimaryTextHover</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray01<span class="token punctuation">,</span> <span class="token comment">// 文本色 - hover</span>
<span class="token literal-property property">ButtonPrimaryBgActive</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Blue02<span class="token punctuation">,</span> <span class="token comment">// 背景色 - active</span>
<span class="token literal-property property">ButtonPrimaryTextActive</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray01<span class="token punctuation">,</span> <span class="token comment">// 文本色 - active</span>
<span class="token literal-property property">ButtonPrimaryBgDisabled</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Blue05<span class="token punctuation">,</span> <span class="token comment">// 背景色 - disabled</span>
<span class="token literal-property property">ButtonPrimaryTextDisabled</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray01<span class="token punctuation">,</span> <span class="token comment">// 文本色 - disabled</span>
<span class="token comment">// 次级按钮 - secondary</span>
<span class="token literal-property property">ButtonSecondaryBg</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray01<span class="token punctuation">,</span> <span class="token comment">// 次级按钮背景色</span>
<span class="token literal-property property">ButtonSecondaryText</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray11<span class="token punctuation">,</span> <span class="token comment">// 次级按钮文本色</span>
<span class="token literal-property property">ButtonSecondaryBgHover</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray02<span class="token punctuation">,</span> <span class="token comment">// 背景色 - hover</span>
<span class="token literal-property property">ButtonSecondaryTextHover</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray11<span class="token punctuation">,</span> <span class="token comment">// 文本色 - hover</span>
<span class="token literal-property property">ButtonSecondaryBgActive</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray03<span class="token punctuation">,</span> <span class="token comment">// 背景色 - active</span>
<span class="token literal-property property">ButtonSecondaryTextActive</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray11<span class="token punctuation">,</span> <span class="token comment">// 文本色 - active</span>
<span class="token literal-property property">ButtonSecondaryBgDisabled</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray03<span class="token punctuation">,</span> <span class="token comment">// 背景色 - disabled</span>
<span class="token literal-property property">ButtonSecondaryTextDisabled</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray09<span class="token punctuation">,</span> <span class="token comment">// 文本色 - disabled</span>
<span class="token comment">// 幽灵按钮 - ghost</span>
<span class="token literal-property property">ButtonGhostBg</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray01<span class="token punctuation">,</span> <span class="token comment">// 幽灵按钮背景色</span>
<span class="token literal-property property">ButtonGhostText</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Blue03<span class="token punctuation">,</span> <span class="token comment">// 幽灵按钮文本色</span>
<span class="token literal-property property">ButtonGhostBgHover</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Blue09<span class="token punctuation">,</span> <span class="token comment">// 背景色 - hover</span>
<span class="token literal-property property">ButtonGhostTextHover</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Blue03<span class="token punctuation">,</span> <span class="token comment">// 文本色 - hover</span>
<span class="token literal-property property">ButtonGhostBgActive</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Blue08<span class="token punctuation">,</span> <span class="token comment">// 背景色 - active</span>
<span class="token literal-property property">ButtonGhostTextActive</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Blue03<span class="token punctuation">,</span> <span class="token comment">// 文本色 - active</span>
<span class="token literal-property property">ButtonGhostBgDisabled</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray03<span class="token punctuation">,</span> <span class="token comment">// 背景色 - disabled</span>
<span class="token literal-property property">ButtonGhostTextDisabled</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray09<span class="token punctuation">,</span> <span class="token comment">// 文本色 - disabled</span>

<span class="token literal-property property">ContainerBorder</span><span class="token operator">:</span> <span class="token function">rgbaString</span><span class="token punctuation">(</span>colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray11<span class="token punctuation">,</span> <span class="token number">0.12</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 容器 border</span>
<span class="token literal-property property">DividerColor</span><span class="token operator">:</span> <span class="token function">rgbaString</span><span class="token punctuation">(</span>colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray11<span class="token punctuation">,</span> <span class="token number">0.08</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 全局分割线</span>
<span class="token literal-property property">SelectColor</span><span class="token operator">:</span> <span class="token function">rgbaString</span><span class="token punctuation">(</span>colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>GrayBlue01<span class="token punctuation">,</span> <span class="token number">0.08</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// item select</span>
<span class="token literal-property property">HoverColor</span><span class="token operator">:</span> <span class="token function">rgbaString</span><span class="token punctuation">(</span>colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>GrayBlue01<span class="token punctuation">,</span> <span class="token number">0.05</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// item hover</span>
<span class="token literal-property property">ModalMaskBg</span><span class="token operator">:</span> <span class="token function">rgbaString</span><span class="token punctuation">(</span>colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray14<span class="token punctuation">,</span> <span class="token number">0.45</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// modal 半透明遮罩</span>
<span class="token literal-property property">CardBoxShadow</span><span class="token operator">:</span> <span class="token function">rgbaString</span><span class="token punctuation">(</span>colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray11<span class="token punctuation">,</span> <span class="token number">0.04</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 卡片阴影</span>
<span class="token literal-property property">TooltipBg</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray11<span class="token punctuation">,</span> <span class="token comment">// tooltip 背景色</span>
<span class="token literal-property property">TooltipText</span><span class="token operator">:</span> colorBase<span class="token punctuation">.</span>light<span class="token punctuation">.</span>Gray01 <span class="token comment">// tooltip 文本色</span></code></pre></div>
</li>
</ol>
<h2>四、思考</h2>
<h3>1、排期困境</h3>
<ol>
<li>
<p>中间插入需求</p>
<p>a. toast 样式改版——中间插入消化</p>
<p>b. 线上样式问题—— 样式迭代，量大，本期不改</p>
</li>
<li>
<p>设计师要求增加排期（toast）</p>
<p>a. 使用甘特图梳理排期；</p>
<p>b. 拆解大任务为小任务，每个任务定具体的交付时间节点，到节点时或邻近节点时确认；</p>
<p>c. 了解各方诉求，寻求合适的方案</p>
</li>
</ol>
<h3>2、沟通的重要性</h3>
<ol>
<li>
<p>与组内同学沟通</p>
<p>a. 已建立的规范 —— 色值一致性</p>
<p>b. 提高效率 —— less 插件
c. ant design 本地化
d. 移动端入侵
e. 上线前与工程 owner 沟通，确定下周上线的需求，提前合并代码（危）</p>
<p>f. 进行 code review 或 workshop ，聆听大家的建议</p>
</li>
<li>
<p>与其他部门沟通</p>
<p>a. 设计师高频沟通</p>
<p>i. 开发、测试方案
ii. 摹客上面设计规范修改</p>
<p>b. 测试、产品</p>
<p>i. 11.16 开会确认当前进度与测试方案 暗黑模式进度</p>
<p>ii. 提前与 qa 确认测试时间及排期</p>
<p>c. Kim 端</p>
<p>i. 暗黑模式配置的开关能力如何通知 Docs</p>
<p>ii. Kim 端的方案与规范，统一认知与目标</p>
<p>iii. 测试时打包</p>
<p>iv. 沟通灰度与上线方案</p>
</li>
</ol>
<h3>3、上线的坑</h3>
<p>其他工程接入包含暗黑模式的组件库代码，需要调整代码</p>
<ol>
<li>主要是 fade 转换成 rgba，但是项目多（首页/知识库/文档/表格/h5 加上各自调试子模块，共10项目），每个项目都要构建 &#x26; 发测试灰度 &#x26; 走查 &#x26; 测试，比较麻烦</li>
<li>taro 项目没接入 ejs ，使用了 ejs，可以优化成引入 less；taro 项目接入</li>
<li>文档 “外部” 项目，webpack 版本落后，没引用 ejs，导致上线后丢失了 css variables 定义，已修复，后续统一使用 less 文件</li>
<li>其他 “外部” 项目，也需要合入代码</li>
<li>ppt 项目工程结构和其他项目不同，一开始没考虑到，延后接入</li>
</ol>
<h2>五、todo与讨论</h2>
<ol>
<li>组件库需要随着设计规范更新，后面组件样式优化需求做</li>
<li>样式隔离，现在组件样式存在很多“负负得正”场景，（重点需求、重要组件针对性地优化）</li>
<li>lint 工具</li>
<li>img key 封装</li>
<li>css-variables.ejs 挪到 package/ui/style/variables.less</li>
</ol></div><hr/><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/blog/mars-ui-convergence/">← <!-- -->记一次前端项目 UI 收敛实践</a></li><li><a rel="next" href="/about/"> →</a></li></ul></div></div><footer class="m-footer"><div class="m-footer-container"><span>© <!-- -->2022<!-- -->, dwb, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></span></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/docs-darkmode/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-1a2e57782b1e35f1f124.js"],"app":["/app-108dc986382adf12f058.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-0f40d706ebc58d78c1f6.js"],"component---src-templates-blog-list-js":["/component---src-templates-blog-list-js-15c749827adfbf7a2693.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-aefad128caa65a788de2.js"],"component---src-templates-design-list-js":["/component---src-templates-design-list-js-fdb4a5f44ecd755e96d2.js"],"component---src-templates-reading-list-js":["/component---src-templates-reading-list-js-fcb5bea83f8987710d2f.js"]};/*]]>*/</script><script src="/polyfill-1a2e57782b1e35f1f124.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-aefad128caa65a788de2.js" async=""></script><script src="/b7c9d27beaed3aca15ea40f28aaeebedeb85369e-d2acb654806c188648eb.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-108dc986382adf12f058.js" async=""></script><script src="/framework-8ce806772d71c2f2cbec.js" async=""></script><script src="/webpack-runtime-fa1fddd08d3069d43a42.js" async=""></script></body></html>