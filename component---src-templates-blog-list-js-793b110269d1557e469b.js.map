{"version":3,"sources":["webpack:///./src/templates/blog-list.js","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js"],"names":["BlogIndex","render","data","this","props","siteTitle","site","siteMetadata","title","posts","allMarkdownRemark","edges","_this$props$pageConte","pageContext","currentPage","numPages","isFirst","isLast","prevPage","toString","nextPage","console","log","react__WEBPACK_IMPORTED_MODULE_4___default","a","createElement","_components_Layout__WEBPACK_IMPORTED_MODULE_7__","location","_components_seo__WEBPACK_IMPORTED_MODULE_6__","keywords","map","_ref","node","frontmatter","fields","slug","className","key","onClick","window","open","date","dangerouslySetInnerHTML","__html","excerpt","photos","length","src","style","display","flexWrap","justifyContent","alignItems","listStyle","padding","gatsby__WEBPACK_IMPORTED_MODULE_5__","to","rel","Array","from","_","i","margin","textDecoration","color","background","React","Component","pageQuery","ctx","__webpack_require__","$export","toObject","call","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","arrayLike","result","step","iterator","O","C","aLen","arguments","mapfn","undefined","mapping","index","iterFn","next","done","value","$defineProperty","createDesc","module","exports","object","f","anObject","$flags","DESCRIPTORS","$toString","define","fn","RegExp","prototype","source","flags","R","concat","name","configurable","get"],"mappings":"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","file":"component---src-templates-blog-list-js-793b110269d1557e469b.js","sourcesContent":["import React from 'react'\nimport { Link, graphql } from 'gatsby'\n\nimport SEO from '../components/seo'\nimport Layout from '../components/Layout'\n\nclass BlogIndex extends React.Component {\n  render() {\n    const { data } = this.props\n    const siteTitle = data.site.siteMetadata.title\n    const posts = data.allMarkdownRemark.edges\n    const { currentPage, numPages } = this.props.pageContext\n    const isFirst = currentPage === 1\n    const isLast = currentPage === numPages\n    const prevPage = currentPage - 1 === 1 ? '/' : (currentPage - 1).toString()\n    const nextPage = (currentPage + 1).toString()\n\n    console.log('posts', posts);\n\n    return (\n      <Layout location={this.props.location} title={siteTitle}>\n        <SEO\n          title={siteTitle}\n          keywords={[`blog`, `dwb`, `董文博`, `dwbbb`, `dwbbb.com`,`javascript`, `design`]}\n        />\n        {posts.map(({ node }) => {\n          const title = node.frontmatter.title || node.fields.slug\n          return (\n            <article className=\"m-post\" key={node.fields.slug} onClick={() => window.open(node.fields.slug, '_self')}>\n                <div className=\"m-post-content\">\n                  <h3 className=\"title\">{title}</h3>\n                  <small>{node.frontmatter.date}</small>\n                  <p dangerouslySetInnerHTML={{ __html: node.excerpt }} />\n                </div>\n                {\n                  node.frontmatter.photos && node.frontmatter.photos.length && node.frontmatter.photos[0] ?\n                  <div className=\"m-post-img\">\n                    <img className=\"ui-img\" src={node.frontmatter.photos && node.frontmatter.photos.length && node.frontmatter.photos[0]} />\n                  </div> : null\n                }\n            </article>\n          )\n        })}\n        <ul\n          style={{\n            display: 'flex',\n            flexWrap: 'wrap',\n            justifyContent: 'center',\n            alignItems: 'center',\n            listStyle: 'none',\n            padding: 0,\n          }}\n        >\n          {!isFirst && (\n            <Link to={prevPage} rel=\"prev\">\n              ← Previous Page\n            </Link>\n          )}\n          {Array.from({ length: numPages }, (_, i) => (\n            <li\n              key={`pagination-number${i + 1}`}\n              style={{\n                margin: '0 8px',\n              }}\n            >\n              <Link\n                to={`/${i === 0 ? '' : i + 1}`}\n                style={{\n                  textDecoration: 'none',\n                  color: i + 1 === currentPage ? '#ffffff' : '',\n                  background: i + 1 === currentPage ? '#007acc' : '',\n                  padding: '.5em'\n                }}\n              >\n                {i + 1}\n              </Link>\n            </li>\n          ))}\n          {!isLast && (\n            <Link to={nextPage} rel=\"next\">\n              Next Page →\n            </Link>\n          )}\n        </ul>\n      </Layout>\n    )\n  }\n}\n\nexport default BlogIndex\n\nexport const pageQuery = graphql`\n  query blogPageQuery($skip: Int!, $limit: Int!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: DESC }\n      limit: $limit\n      skip: $skip\n      filter: {\n        frontmatter: {\n          type: {\n            eq: \"blog\"\n          }\n        }\n      }\n    ) {\n      edges {\n        node {\n          excerpt(\n            format: PLAIN\n            pruneLength: 90\n            truncate: true\n          )\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"DD MMMM, YYYY\")\n            title\n            type\n            photos\n            tags\n          }\n        }\n      }\n    }\n  }\n`\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n"],"sourceRoot":""}